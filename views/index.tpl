% rebase('layout.tpl', title='Главная', year=year)

<!-- Главная страница с четырьмя вкладками для вариантов анализа -->
<div class="jumbotron">
    <h1>Элементы машинного обучения и анализа данных</h1>
    <p class="lead">
        Проект учебной практики команды 7: анализ случайно сгенерированной таблицы (до 1000 строк и 10 столбцов).
    </p>
</div>

<!-- Навигационные вкладки -->
<ul class="nav nav-tabs" id="variantTabs" role="tablist">
    <li role="presentation" class="active">
        <a href="#variant1" aria-controls="variant1" role="tab" data-toggle="tab">Вариант 1 <small>Статистика</small></a>
    </li>
    <li role="presentation">
        <a href="#variant2" aria-controls="variant2" role="tab" data-toggle="tab">Вариант 2 <small>Корреляции</small></a>
    </li>
    <li role="presentation">
        <a href="#variant3" aria-controls="variant3" role="tab" data-toggle="tab">Вариант 3 <small>Графики</small></a>
    </li>
    <li role="presentation">
        <a href="#variant4" aria-controls="variant4" role="tab" data-toggle="tab">Вариант 4 <small>Прогноз</small></a>
    </li>
</ul>

<!-- Содержимое вкладок -->
<div class="tab-content" style="margin-top: 20px;">
    <!-- Вариант 1 -->
    <div role="tabpanel" class="tab-pane fade in active" id="variant1">
    <div class="row">
        <div class="col-md-12">
            <h2>Вариант 1: Анализ распределений и статистик</h2>
            <p class="lead">Комплексный анализ распределений данных с проверкой на нормальность и выявлением аномалий</p>
            
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Описание решения</h3>
                </div>
                <div class="panel-body">
                    <h4>Основные этапы анализа:</h4>
                    <ol>
                        <li><strong>Визуализация распределений</strong>
                            <ul>
                                <li>Построение гистограмм с кривыми плотности для каждого числового столбца</li>
                                <li>Добавление ящиков с усами (boxplot) для выявления выбросов</li>
                                <li>Сравнение с теоретическим нормальным распределением (где применимо)</li>
                            </ul>
                        </li>
                        <li><strong>Проверка на нормальность</strong>
                            <ul>
                                <li>Тест Шапиро-Уилка (для выборок до 5000 элементов)</li>
                                <li>Анализ коэффициентов асимметрии и эксцесса</li>
                                <li>Визуальная оценка Q-Q графиков</li>
                            </ul>
                        </li>
                        <li><strong>Вычисление статистик</strong>
                            <ul>
                                <li>Основные параметры: среднее, медиана, стандартное отклонение</li>
                                <li>Квантили распределения (25%, 50%, 75%)</li>
                                <li>Минимальное и максимальное значения</li>
                            </ul>
                        </li>
                        <li><strong>Выявление аномалий</strong>
                            <ul>
                                <li>Метод межквартильного размаха (IQR) для определения выбросов</li>
                                <li>Анализ экстремальных значений</li>
                                <li>Оценка влияния выбросов на общую статистику</li>
                            </ul>
                        </li>
                    </ol>

                    <h4>Методы визуализации:</h4>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="thumbnail">
                                <img src="/static/images/primeri/gistogramma.png" alt="Гистограмма">
                                <div class="caption">
                                    <h5>Гистограмма</h5>
                                    <p>Показывает форму распределения и частоту значений</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4>Интерпретация результатов:</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Параметр</th>
                                <th>Нормальное распределение</th>
                                <th>Ненормальное распределение</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Асимметрия</td>
                                <td>≈ 0</td>
                                <td>Значительно ≠ 0</td>
                            </tr>
                            <tr>
                                <td>Эксцесс</td>
                                <td>≈ 0</td>
                                <td>Значительно ≠ 0</td>
                            </tr>
                            <tr>
                                <td>Тест Шапиро-Уилка</td>
                                <td>p-value > 0.05</td>
                                <td>p-value ≤ 0.05</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="alert alert-info">
                        <strong>Рекомендации:</strong> Для данных с нормальным распределением можно применять параметрические методы статистики. Для ненормальных распределений рекомендуется использовать непараметрические методы или преобразования данных.
                    </div>
                </div>
            </div>
            
            <p><a class="btn btn-primary btn-lg" href="/variant1">Начать анализ &raquo;</a></p>
        </div>
    </div>
</div>

    <!-- Вариант 2 -->
    <div role="tabpanel" class="tab-pane fade" id="variant2">
      <div class="row">
        <div class="col-md-12">
          <h2>Вариант 2: Корреляции и тепловая карта</h2>

                      <hr>
            <h3>Как работает корреляция и как она вычисляется</h3>

            <p>
              <strong>Корреляция</strong> — это числовой показатель, отражающий <em>насколько сильно</em> и <em>в каком направлении</em> связаны две количественные переменные.
            </p>

            <h4>Что делает корреляция:</h4>
            <ul>
              <li>Измеряет <strong>силу линейной зависимости</strong> между переменными.</li>
              <li>Показывает, увеличивается или уменьшается одна переменная при изменении другой.</li>
              <li>Имеет значение от <strong>-1 до +1</strong>.</li>
            </ul>

            <div style="background-color:#f8f9fa;border-left:4px solid #007bff;padding:1em;margin-bottom:1em;">
              <p><strong>Значения коэффициента корреляции \( r \):</strong></p>
              <ul>
                <li><strong>\( r = +1 \)</strong> — идеальная положительная связь</li>
                <li><strong>\( r = 0 \)</strong> — переменные не связаны линейно</li>
                <li><strong>\( r = -1 \)</strong> — идеальная отрицательная связь</li>
              </ul>
            </div>

            <h4>Формула корреляции Пирсона</h4>

            <p>Для двух переменных \( X \) и \( Y \) с \( n \) наблюдениями:</p>

            <p style="text-align:center;font-size:120%;">
              \[
              r = \frac{\sum_{i=1}^{n} (x_i - \bar{x})(y_i - \bar{y})}
              {\sqrt{\sum_{i=1}^{n} (x_i - \bar{x})^2} \cdot \sqrt{\sum_{i=1}^{n} (y_i - \bar{y})^2}}
              \]
            </p>

            <p>
              Где:
            </p>
            <ul>
              <li>\( x_i, y_i \) — значения переменных \( X \) и \( Y \) на \( i \)-м наблюдении</li>
              <li>\( \bar{x}, \bar{y} \) — средние значения переменных</li>
              <li>\( n \) — количество наблюдений (строк)</li>
            </ul>

            <h4>Как работает эта формула:</h4>
            <ol>
              <li>Сначала находятся средние значения: \( \bar{x}, \bar{y} \)</li>
              <li>Вычисляются отклонения от среднего: \( x_i - \bar{x}, y_i - \bar{y} \)</li>
              <li>Умножаются попарно эти отклонения и суммируются</li>
              <li>В знаменателе — произведение стандартных отклонений (корни квадратов сумм отклонений)</li>
            </ol>

            <p>
              Таким образом, корреляция — это <strong>нормализованная ковариация</strong>: насколько два признака изменяются совместно, по сравнению с их вариацией в отдельности.
            </p>


            <h4>Важное условие: одинаковое число строк</h4>
            <p>
              Все переменные в таблице должны иметь одинаковое число наблюдений (строк), иначе корреляцию посчитать нельзя.
            </p>

            <div style="background:#fff3cd;border-left:4px solid #ffc107;padding:1em;margin-bottom:1em;">
              <strong>Если в одной колонке 100 значений, а в другой — 98:</strong><br>
              Нельзя сопоставить строки по индексу. Возникает ошибка или пропущенные значения (NaN).
            </div>

            <p>
              Перед анализом нужно:
            </p>
            <ul>
              <li>Удалить строки с пропущенными значениями;</li>
              <li>Заполнить пропуски (например, средним или медианой);</li>
              <li>Или исключить неполные переменные.</li>
            </ul>

            <h4>Пример на Python</h4>

            <pre><code>import pandas as pd

            data = {
                "X": [1, 2, 3, 4, 5],
                "Y": [2, 4, 6, 8, 10],
                "Z": [5, 3, 6, 2, 7]
            }

            df = pd.DataFrame(data)
            print(df.corr())</code></pre>

            <p><strong>Результат:</strong></p>
            <pre><code>          X         Y         Z
            X  1.000000  1.000000  0.000000
            Y  1.000000  1.000000  0.000000
            Z  0.000000  0.000000  1.000000
            </code></pre>

            <p>
              Из этого видно:
              <ul>
                <li>между X и Y — идеальная положительная корреляция,</li>
                <li>Z не связана с X и Y.</li>
              </ul>
            </p>

            <p>Теперь вы можете понимать и интерпретировать результаты тепловой карты с полным осознанием статистического смысла!</p>


          <p><a class="btn btn-primary" href="/variant2">Перейти к анализу &raquo;</a></p>
        </div>
      </div>
    </div>

    <!-- Вариант 3 -->
    <div role="tabpanel" class="tab-pane fade" id="variant3">
        <div class="row">
            <div class="col-md-12">
                <h2>Вариант 3: Графики и scatter‑matrix</h2>
                <p>Различные диаграммы для каждого столбца, матрица рассеяния и визуализация выявленных зависимостей.</p>
                <p><a class="btn btn-primary" href="/variant3">Перейти к графикам &raquo;</a></p>
            </div>
        </div>
    </div>

    <!-- Вариант 4 -->
    <div role="tabpanel" class="tab-pane fade" id="variant4">
      <div class="row">
        <div class="col-md-12">
          <h2>Вариант 4: Модель и прогнозирование</h2>

          <p>
            Прогнозирование на основе данных — это ключевой инструмент в машинном обучении и аналитике, позволяющий предсказывать значения целевой переменной на основе исторических данных.  
            В этом варианте вы сможете:
          </p>
          <ul>
            <li><strong>Выбрать целевую переменную</strong>, которую необходимо предсказать;</li>
            <li><strong>Обучить модель</strong> на ваших данных с использованием алгоритмов регрессии или классификации;</li>
            <li><strong>Получить прогноз</strong> для новых данных, введённых вручную или загруженных из файла.</li>
          </ul>

          <h4>Как это работает?</h4>
          <p>
            После загрузки данных система автоматически разделяет их на обучающую и тестовую выборки.  
            Выбор модели (линейная регрессия, случайный лес, градиентный бустинг и др.) зависит от типа задачи и характера данных.  
            Натренированная модель применяется к новым значениям, а результат прогноза отображается в виде численного значения или графика.
          </p>

          <p>
            <strong>Примеры использования:</strong>  
            прогнозирование продаж, оценка рисков, предсказание временных рядов, классификация текстов или изображений.  
            Точность прогноза зависит от качества данных, выбранных признаков и настроек модели.
          </p>

          <p><a class="btn btn-primary" href="/variant4">Перейти к прогнозу &raquo;</a></p>
        </div>
      </div>
    </div>
</div>