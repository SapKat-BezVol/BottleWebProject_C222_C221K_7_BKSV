% rebase('layout.tpl', title='Главная', year=year)

<!-- Главная страница с четырьмя вкладками для вариантов анализа -->
<div class="jumbotron">
    <h1>Элементы машинного обучения и анализа данных</h1>
    <p class="lead">
        Проект учебной практики команды 7: анализ случайно сгенерированной таблицы (до 1000 строк и 10 столбцов).
    </p>
</div>

<!-- Навигационные вкладки -->
<ul class="nav nav-tabs" id="variantTabs" role="tablist">
    <li role="presentation" class="active">
        <a href="#variant1" aria-controls="variant1" role="tab" data-toggle="tab">Вариант 1 <small>Статистика</small></a>
    </li>
    <li role="presentation">
        <a href="#variant2" aria-controls="variant2" role="tab" data-toggle="tab">Вариант 2 <small>Корреляции</small></a>
    </li>
    <li role="presentation">
        <a href="#variant3" aria-controls="variant3" role="tab" data-toggle="tab">Вариант 3 <small>Графики</small></a>
    </li>
    <li role="presentation">
        <a href="#variant4" aria-controls="variant4" role="tab" data-toggle="tab">Вариант 4 <small>Прогноз</small></a>
    </li>
</ul>

<!-- Содержимое вкладок -->
<div class="tab-content" style="margin-top: 20px;">
    <!-- Вариант 1 -->
    <div role="tabpanel" class="tab-pane fade in active" id="variant1">
    <div class="row">
        <div class="col-md-12">
            <h2>Вариант 1: Анализ распределений и статистик</h2>
            <p class="lead">Комплексный анализ распределений данных с проверкой на нормальность и выявлением аномалий</p>
            
            <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
            
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Описание решения</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Основные этапы анализа:</h4>
                            <ol>
                                <li><strong>Визуализация распределений</strong>
                                    <ul>
                                        <li>Гистограммы с кривыми плотности</li>
                                        <li>Ящики с усами (boxplot)</li>
                                        <li>Сравнение с нормальным распределением</li>
                                    </ul>
                                </li>
                                <li><strong>Проверка на нормальность</strong>
                                    <ul>
                                        <li>Тест Шапиро-Уилка</li>
                                        <li>Анализ асимметрии и эксцесса</li>
                                        <li>Q-Q графики</li>
                                    </ul>
                                </li>
                            </ol>
                        </div>
                        <div class="col-md-6">
                            <div class="well">
                                <h4>Пример гистограммы с пояснениями</h4>
                                <div class="row">
                                    <div class="col-md-6">
                                        <img src="/static/images/primeri/gistogramma.png" class="img-responsive" alt="Гистограмма">
                                    </div>
                                    <div class="col-md-6">
                                        <ul class="list-unstyled">
                                            <li><strong>Форма:</strong> Симметричность</li>
                                            <li><strong>Мода:</strong> Пик распределения</li>
                                            <li><strong>Хвосты:</strong> Плавное затухание</li>
                                            <li><strong>Выбросы:</strong> Отсутствуют</li>
                                            <li><strong>Нормальность:</strong> p-value > 0.05</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h4>Математическое обоснование:</h4>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h5>1. Основные статистические характеристики:</h5>
                            <p><strong>Среднее значение:</strong></p>
                            <p>\[ \bar{x} = \frac{1}{n}\sum_{i=1}^{n}x_i \]</p>
                            <p class="small">где \( \bar{x} \) - среднее, \( n \) - количество наблюдений, \( x_i \) - отдельные значения</p>
                            
                            <p><strong>Дисперсия:</strong></p>
                            <p>\[ s^2 = \frac{1}{n-1}\sum_{i=1}^{n}(x_i - \bar{x})^2 \]</p>
                            <p class="small">где \( s^2 \) - дисперсия, мера разброса данных</p>
                        </div>
                        <div class="col-md-6">
                            <h5>2. Коэффициенты формы:</h5>
                            <p><strong>Асимметрия:</strong></p>
                            <p>\[ \gamma_1 = \frac{\frac{1}{n}\sum_{i=1}^{n}(x_i - \bar{x})^3}{s^3} \]</p>
                            <p class="small">\( \gamma_1 > 0 \) - правосторонняя асимметрия, \( \gamma_1 < 0 \) - левосторонняя</p>
                            
                            <p><strong>Эксцесс:</strong></p>
                            <p>\[ \gamma_2 = \frac{\frac{1}{n}\sum_{i=1}^{n}(x_i - \bar{x})^4}{s^4} - 3 \]</p>
                            <p class="small">\( \gamma_2 > 0 \) - островершинное, \( \gamma_2 < 0 \) - плосковершинное</p>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h5>3. Тест Шапиро-Уилка:</h5>
                            <p>\[ W = \frac{(\sum_{i=1}^{n}a_i x_{(i)})^2}{\sum_{i=1}^{n}(x_i - \bar{x})^2} \]</p>
                            <p class="small">где \( W \) - статистика теста (0-1), \( a_i \) - константы, \( x_{(i)} \) - упорядоченные значения</p>
                        </div>
                        <div class="col-md-6">
                            <h5>4. Метод IQR для выбросов:</h5>
                            <p>\[ \text{IQR} = Q_3 - Q_1 \]</p>
                            <p>\[ \text{Выбросы} = \begin{cases} 
                            x < Q_1 - 1.5 \times IQR \\
                            x > Q_3 + 1.5 \times IQR 
                            \end{cases} \]</p>
                            <p class="small">где \( Q_1 \) - 25-й перцентиль, \( Q_3 \) - 75-й перцентиль</p>
                        </div>
                    </div>

                    <h4 class="mt-4">Критерии нормальности:</h4>
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead>
                                <tr class="active">
                                    <th>Параметр</th>
                                    <th>Нормальное</th>
                                    <th>Ненормальное</th>
                                    <th>Интерпретация</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Асимметрия (\( \gamma_1 \))</td>
                                    <td>\( |\gamma_1| \leq 0.5 \)</td>
                                    <td>\( |\gamma_1| > 0.5 \)</td>
                                    <td>Симметричность распределения</td>
                                </tr>
                                <tr>
                                    <td>Эксцесс (\( \gamma_2 \))</td>
                                    <td>\( |\gamma_2| \leq 0.5 \)</td>
                                    <td>\( |\gamma_2| > 0.5 \)</td>
                                    <td>"Острота" пика распределения</td>
                                </tr>
                                <tr>
                                    <td>Тест Шапиро-Уилка (p-value)</td>
                                    <td>> 0.05</td>
                                    <td>≤ 0.05</td>
                                    <td>Статистическая значимость отклонения от нормальности</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="alert alert-info mt-4">
                        <h4>Рекомендации по анализу:</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <strong>Для нормальных данных:</strong>
                                <ul>
                                    <li>t-тесты и ANOVA</li>
                                    <li>Линейная регрессия</li>
                                    <li>Доверительные интервалы</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <strong>Для ненормальных данных:</strong>
                                <ul>
                                    <li>U-тест Манна-Уитни</li>
                                    <li>Преобразование Бокса-Кокса</li>
                                    <li>Робастные методы</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-left mt-4">
                <a class="btn btn-primary btn-lg" href="/variant1">Начать анализ &raquo;</a>
            </div>
        </div>
    </div>
</div>

    <!-- Вариант 2 -->
    <div role="tabpanel" class="tab-pane fade" id="variant2">
      <div class="row">
        <div class="col-md-12">
          <h2>Вариант 2: Корреляции и тепловая карта</h2>

                      <hr>
            <h3>Как работает корреляция и как она вычисляется</h3>

            <p>
              <strong>Корреляция</strong> — это числовой показатель, отражающий <em>насколько сильно</em> и <em>в каком направлении</em> связаны две количественные переменные.
            </p>

            <h4>Что делает корреляция:</h4>
            <ul>
              <li>Измеряет <strong>силу линейной зависимости</strong> между переменными.</li>
              <li>Показывает, увеличивается или уменьшается одна переменная при изменении другой.</li>
              <li>Имеет значение от <strong>-1 до +1</strong>.</li>
            </ul>

            <div style="background-color:#f8f9fa;border-left:4px solid #007bff;padding:1em;margin-bottom:1em;">
              <p><strong>Значения коэффициента корреляции \( r \):</strong></p>
              <ul>
                <li><strong>\( r = +1 \)</strong> — идеальная положительная связь</li>
                <li><strong>\( r = 0 \)</strong> — переменные не связаны линейно</li>
                <li><strong>\( r = -1 \)</strong> — идеальная отрицательная связь</li>
              </ul>
            </div>

            <h4>Формула корреляции Пирсона</h4>

            <p>Для двух переменных \( X \) и \( Y \) с \( n \) наблюдениями:</p>

            <p style="text-align:center;font-size:120%;">
              \[
              r = \frac{\sum_{i=1}^{n} (x_i - \bar{x})(y_i - \bar{y})}
              {\sqrt{\sum_{i=1}^{n} (x_i - \bar{x})^2} \cdot \sqrt{\sum_{i=1}^{n} (y_i - \bar{y})^2}}
              \]
            </p>

            <p>
              Где:
            </p>
            <ul>
              <li>\( x_i, y_i \) — значения переменных \( X \) и \( Y \) на \( i \)-м наблюдении</li>
              <li>\( \bar{x}, \bar{y} \) — средние значения переменных</li>
              <li>\( n \) — количество наблюдений (строк)</li>
            </ul>

            <h4>Как работает эта формула:</h4>
            <ol>
              <li>Сначала находятся средние значения: \( \bar{x}, \bar{y} \)</li>
              <li>Вычисляются отклонения от среднего: \( x_i - \bar{x}, y_i - \bar{y} \)</li>
              <li>Умножаются попарно эти отклонения и суммируются</li>
              <li>В знаменателе — произведение стандартных отклонений (корни квадратов сумм отклонений)</li>
            </ol>

            <p>
              Таким образом, корреляция — это <strong>нормализованная ковариация</strong>: насколько два признака изменяются совместно, по сравнению с их вариацией в отдельности.
            </p>


            <h4>Важное условие: одинаковое число строк</h4>
            <p>
              Все переменные в таблице должны иметь одинаковое число наблюдений (строк), иначе корреляцию посчитать нельзя.
            </p>

            <div style="background:#fff3cd;border-left:4px solid #ffc107;padding:1em;margin-bottom:1em;">
              <strong>Если в одной колонке 100 значений, а в другой — 98:</strong><br>
              Нельзя сопоставить строки по индексу. Возникает ошибка или пропущенные значения (NaN).
            </div>

            <p>
              Перед анализом нужно:
            </p>
            <ul>
              <li>Удалить строки с пропущенными значениями;</li>
              <li>Заполнить пропуски (например, средним или медианой);</li>
              <li>Или исключить неполные переменные.</li>
            </ul>

            <h4>Пример на Python</h4>

            <pre><code>import pandas as pd

            data = {
                "X": [1, 2, 3, 4, 5],
                "Y": [2, 4, 6, 8, 10],
                "Z": [5, 3, 6, 2, 7]
            }

            df = pd.DataFrame(data)
            print(df.corr())</code></pre>

            <p><strong>Результат:</strong></p>
            <pre><code>          X         Y         Z
            X  1.000000  1.000000  0.000000
            Y  1.000000  1.000000  0.000000
            Z  0.000000  0.000000  1.000000
            </code></pre>

            <p>
              Из этого видно:
              <ul>
                <li>между X и Y — идеальная положительная корреляция,</li>
                <li>Z не связана с X и Y.</li>
              </ul>
            </p>

            <p>Теперь вы можете понимать и интерпретировать результаты тепловой карты с полным осознанием статистического смысла!</p>


          <p><a class="btn btn-primary" href="/variant2">Перейти к анализу &raquo;</a></p>
        </div>
      </div>
    </div>

    <!-- Вариант 3 -->
    <div role="tabpanel" class="tab-pane fade" id="variant3">
        <div class="row">
            <div class="col-md-12">

                <h2>Вариант 3: Графики и scatter-matrix</h2>
                <p class="lead">Различные диаграммы для каждого столбца, матрица рассеяния и визуализация выявленных зависимостей</p>

                <script id="MathJax-script" async
                        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Описание решения</h3>
                    </div>

                    <div class="panel-body">

                        <h4>1. Гистограмма распределения</h4>

                        <h5>1.1. Назначение</h5>
                        <p>Гистограмма&nbsp;— ключевой инструмент одномерного анализа, позволяющий визуально оценить форму распределения, наличие асимметрии,
                           мультимодальности и выбросов.</p>

                        <h5>1.2. Логическая структура данных</h5>
                        <p>Требуется одноколонный числовой массив размера \(N\). Каждая гистограмма отражает <em>все</em> наблюдения выбранного
                           столбца, независимо от того, какая подвыборка отображена пользователю.</p>

                        <h5>1.3. Алгоритм построения</h5>
                        <ol>
                            <li>Определяем диапазон: \(\min(x),\;\max(x)\).</li>
                            <li>Выбираем число бинов по правилу Стерджесса:
                                \[
                                    k=\Bigl\lceil \log_{2}N+1 \Bigr\rceil
                                \]</li>
                            <li>Ширина бина:
                                \[
                                    h=\frac{\max(x)-\min(x)}{k}
                                \]</li>
                            <li>Считаем частоту значений в каждом интервале и строим вертикальные прямоугольники;
                                по оси \(Y\) можно отображать абсолютные, относительные частоты или плотность.</li>
                        </ol>

                        <h5>1.4. Особенности обработки</h5>
                        <ul>
                            <li>Пропущенные значения исключаются.</li>
                            <li>Выбросы попадают в крайние интервалы и визуально выделяются.</li>
                            <li>При необходимости ось \(X\) может быть логарифмирована.</li>
                        </ul>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="thumbnail">
                                    <img src="/static/images/primeri/gistogramma.png" alt="Пример гистограммы">
                                    <div class="caption">
                                        <h5>Пример гистограммы</h5>
                                        <p>Распределение показателя с двумя модами</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>

                        <h4>2. Ящичковая диаграмма (Box-plot)</h4>

                        <h5>2.1. Назначение</h5>
                        <p>Box-plot компактен и нагляден: отображает медиану, квартили, межквартильный размах и выбросы,
                           упрощая сравнение распределений между группами.</p>

                        <h5>2.2. Логическая структура данных</h5>
                        <p>Одномерная числовая выборка либо несколько выборок, если требуется
                           сравнить группы. Все доступные значения участвуют в вычислении статистик.</p>

                        <h5>2.3. Алгоритм построения</h5>
                        <ol>
                            <li>Сортировка значений: \(x_{(1)}\le\ldots\le x_{(N)}\).</li>
                            <li>Квартильные статистики:
                                \[
                                    Q_1,\;Q_2,\;Q_3;\qquad IQR = Q_3 - Q_1
                                \]</li>
                            <li>Усы по правилу Тьюки:
                                \[
                                    \text{Нижний ус}=Q_1-1.5\,IQR,\quad
                                    \text{Верхний ус}=Q_3+1.5\,IQR
                                \]</li>
                            <li>Точки за пределами усов — выбросы, отображаются отдельно.</li>
                        </ol>

                        <h5>2.4. Особенности обработки</h5>
                        <ul>
                            <li>NaN исключаются.</li>
                            <li>Масштаб оси общий для всех «ящиков» на графике.</li>
                            <li>При сильной асимметрии возможна лог-шкала.</li>
                        </ul>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="thumbnail">
                                    <img src="/static/images/primeri/boxplot.png" alt="Пример box-plot">
                                    <div class="caption">
                                        <h5>Пример box-plot</h5>
                                        <p>Сравнение двух групп данных</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>

                        <h4>3. Матрица диаграмм рассеяния (Scatter Matrix)</h4>

                        <h5>3.1. Назначение</h5>
                        <p>Матрица рассеяния позволяет одновременно оценить все парные зависимости между \(p\) числовыми
                           признаками таблицы и быстро выявить корреляции, кластеры и выбросы.</p>

                        <h5>3.2. Логическая структура данных</h5>
                        <p>Исходные данные — таблица \(N\times p\) числовых значений. Для каждой пары
                           \((X_i,X_j)\) строится точечный график; на диагонали обычно размещают гистограммы
                           отдельных признаков.</p>

                        <h5>3.3. Алгоритм построения</h5>
                        <ol>
                            <li>Выбор \(p\) переменных (2 ≤ \(p\) ≤ 10).</li>
                            <li>Создание сетки \(p\times p\); для \(i\neq j\) — scatter-plot всех \(N\) наблюдений,
                                для \(i=j\) — гистограмма или KDE.</li>
                            <li>При необходимости отображение коэффициента корреляции
                                \[
                                    r_{ij}=
                                    \frac{\displaystyle\sum_{k=1}^{N}(x_{ki}-\bar{x}_i)(x_{kj}-\bar{x}_j)}
                                         {\sqrt{\displaystyle\sum_{k=1}^{N}(x_{ki}-\bar{x}_i)^2
                                                \sum_{k=1}^{N}(x_{kj}-\bar{x}_j)^2}}
                                \]</li>
                        </ol>

                        <h5>3.4. Особенности обработки</h5>
                        <ul>
                            <li>При наличии пропусков пара \((x_{ki},x_{kj})\) не отображается.</li>
                            <li>При сильном различии масштабов отдельных признаков возможна стандартизация
                                или лог-шкала по выбранной оси.</li>
                        </ul>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="thumbnail">
                                    <img src="/static/images/primeri/scattermatrix.png" alt="Пример scatter-matrix">
                                    <div class="caption">
                                        <h5>Пример scatter-matrix</h5>
                                        <p>Парные связи между четырьмя переменными</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>

                        <h4>4. Итог</h4>
                        <p>Гистограммы раскрывают распределения отдельных признаков, box-plot
                           конденсирует ключевые статистики и выбросы, а scatter-matrix
                           демонстрирует структуру многомерных взаимосвязей. Комплексное использование
                           этих диаграмм обеспечивает глубокое понимание таблицы данных и служит основой
                           для последующего моделирования.</p>

                    </div>
                </div>

                <p><a class="btn btn-primary btn-lg" href="/variant3">Перейти к графикам &raquo;</a></p>
            </div>
        </div>
    </div> 

    <!-- Вариант 4 -->
    <!-- Вариант 4 -->
<div role="tabpanel" class="tab-pane fade" id="variant4">
  <div class="row">
    <div class="col-md-12">
      <h2>Вариант 4: Модель и прогнозирование</h2>
      
      <div class="alert alert-info">
        <h4>Алгоритм работы системы прогнозирования</h4>
        <p>Пошаговый процесс от ввода данных до получения прогноза:</p>
      </div>

      <h3>1. Входные данные</h3>
      <p>Система принимает:</p>
      <ul>
        <li><strong>k</strong> - номер столбца с целевой переменной (начинается с 1 для удобства пользователя)</li>
        <li><strong>S = {s₁, s₂, ..., sₙ}</strong> - значения признаков для прогноза (вводимые пользователем)</li>
      </ul>
  
      <div class="alert alert-warning">
        <strong>Пример:</strong> Если таблица содержит столбцы ["Площадь", "Комнаты", "Этаж", "Цена"], то:<br>
        • k=4 выбирает "Цена" как целевую переменную<br>
        • S = [120, 3, 5] - характеристики нового дома
      </div>

      <h3>2. Проверка корректности</h3>
      <p>Выполняется валидация номера столбца:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ 1 \leq k \leq N \]
      </div>
      <p>где <em>N</em> - общее количество столбцов в данных.</p>

      <h3>3. Подготовка данных</h3>
      <p>При успешной проверке данные разделяются:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ \begin{cases}
        y = \text{столбец } k \text{ из таблицы} & \text{(целевая переменная)} \\
        X = \text{все столбцы КРОМЕ } k & \text{(признаки для обучения)}
        \end{cases} \]
      </div>
      
      <div class="alert alert-secondary">
        <strong>Пояснение:</strong><br>
        • <em>y</em> - вектор значений, которые мы хотим предсказывать<br>
        • <em>X</em> - матрица признаков, используемых для прогноза<br>
      </div>

      <h3>4. Преобразование входных значений</h3>
      <p>Введенные пользователем данные преобразуются в числовой формат:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ F = [\text{float}(s₁), \text{float}(s₂), ..., \text{float}(sₙ)] \]
      </div>
      <p>где каждое значение <em>sᵢ</em> преобразуется в вещественное число.</p>

      <h3>5. Проверка размерности</h3>
      <p>Система проверяет соответствие количества признаков:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ \text{len}(F) = \text{количество столбцов в } X \]
      </div>
      <p>Количество введенных значений должно точно совпадать с количеством признаков модели.</p>

      <h3>6. Построение модели</h3>
      <p>Создается модель линейной регрессии:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ \hat{y} = \theta_0 + \theta_1x_1 + \theta_2x_2 + ... + \theta_nx_n \]
      </div>
      <p>где:<br>
      • <em>θ₀</em> - свободный член (bias)<br>
      • <em>θ₁...θₙ</em> - весовые коэффициенты для каждого признака<br>
      • <em>x₁...xₙ</em> - значения признаков<br>
      • <em>ŷ</em> - прогнозируемое значение</p>

      <h3>7. Обучение модели</h3>
        <p>Нахождение оптимальных параметров модели методом наименьших квадратов:</p>
        <div style="text-align:center; margin:20px 0; background:#f8f9fa; padding:15px; border-radius:5px;">
            \[ 
            \min_{\theta} \sum_{i=1}^{m} (y_i - (\theta_0 + \theta_1x_{i1} + \theta_2x_{i2} + ... + \theta_nx_{in}))^2 
            \]
        </div>

        <div class="alert alert-info">
            <h5>Подробное объяснение формулы:</h5>
            <p>Эта формула означает, что мы ищем такие значения параметров θ (тета), при которых <strong>сумма квадратов ошибок</strong> будет минимальной:</p>
    
            <table class="table table-bordered" style="margin:15px;">
                <thead>
                    <tr>
                        <th>Элемент</th>
                        <th>Обозначение</th>
                        <th>Пояснение</th>
                        <th>Пример</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Целевое значение</td>
                        <td>y<sub>i</sub></td>
                        <td>Реальное значение из обучающих данных для i-го наблюдения</td>
                        <td>Фактическая цена дома №5: 8,400,000 руб.</td>
                    </tr>
                    <tr>
                        <td>Прогноз модели</td>
                        <td>θ<sub>0</sub> + θ<sub>1</sub>x<sub>i1</sub> + ...</td>
                        <td>Предсказание модели для i-го наблюдения</td>
                        <td>Предсказанная цена: 8,200,000 руб.</td>
                    </tr>
                    <tr>
                        <td>Ошибка</td>
                        <td>(y<sub>i</sub> - ŷ<sub>i</sub>)</td>
                        <td>Разница между реальным и предсказанным значением</td>
                        <td>Ошибка: 200,000 руб.</td>
                    </tr>
                    <tr>
                        <td>Квадрат ошибки</td>
                        <td>(y<sub>i</sub> - ŷ<sub>i</sub>)<sup>2</sup></td>
                        <td>Квадрат разницы (чтобы избежать отрицательных значений)</td>
                        <td>40,000,000,000</td>
                    </tr>
                    <tr>
                        <td>Сумма по всем данным</td>
                        <td>∑<sub>i=1</sub><sup>m</sup></td>
                        <td>Суммируем квадраты ошибок для всех m наблюдений</td>
                        <td>Общая ошибка для 100 домов</td>
                    </tr>
                </tbody>
            </table>
    
            <h5 style="margin-top:20px;">Как работает процесс обучения:</h5>
            <ol>
                <li><strong>Инициализация:</strong> Начинаем со случайных значений θ (обычно нули или малые случайные числа)</li>
                <li><strong>Расчет ошибки:</strong> Для каждого наблюдения вычисляем разницу между предсказанием и реальным значением</li>
                <li><strong>Корректировка параметров:</strong> Специальный алгоритм (градиентный спуск) постепенно изменяет θ, чтобы уменьшить общую ошибку</li>
                <li><strong>Оптимизация:</strong> Процесс повторяется, пока ошибка не перестанет существенно уменьшаться</li>
            </ol>
    
            <div class="alert alert-warning" style="margin-top:15px;">
                <strong>Важно:</strong> Этот метод находит оптимальные параметры θ, которые минимизируют среднюю ошибку прогноза на обучающих данных, но не гарантирует идеальную точность на новых данных.
            </div>
        </div>

      <h3>8. Прогнозирование</h3>
      <p>Вычисление прогнозируемого значения для новых данных:</p>
      <div style="text-align:center; margin:20px 0;">
        \[ \hat{y}_{\text{new}} = \theta_0 + \theta_1f_1 + \theta_2f_2 + ... + \theta_nf_n \]
      </div>
      <p>где <em>f₁...fₙ</em> - преобразованные значения признаков из ввода пользователя.</p>

      <h3>Возможные ошибки</h3>
      <div class="alert alert-danger">
        <ul>
          <li><strong>Некорректный номер столбца</strong> - значение k вне диапазона [1, N]</li>
          <li><strong>Несоответствие количества признаков</strong> - введено неверное число параметров</li>
          <li><strong>Ошибки преобразования</strong> - введены нечисловые значения или пустые поля</li>
        </ul>
      </div>

      <p><a class="btn btn-primary btn-lg" href="/variant4">Начать прогнозирование &raquo;</a></p>
    </div>
  </div>
</div>
</div>